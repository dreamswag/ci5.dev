<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ci5.dev [REGISTRY]</title>
    <link rel="stylesheet" href="https://ci5.run/static/style.css">
    <style>
        /* Overrides to make it a static page instead of a window */
        body { 
            height: auto; overflow-y: auto; display: block; padding-top: 60px; 
            max-width: 900px; margin: 0 auto;
        }
        .static-terminal {
            background-color: rgba(10, 10, 10, 0.95);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            min-height: 80vh;
        }
        .section-header { 
            border-bottom: 1px dashed var(--dim); 
            margin-top: 30px; margin-bottom: 15px; 
            color: var(--purple); font-weight: bold;
        }
        .entry { margin-bottom: 20px; padding-left: 10px; border-left: 2px solid var(--term); }
        .entry:hover { border-left-color: var(--green); }
        .entry-title { font-weight: bold; color: var(--text); }
        .entry-desc { color: var(--dim); font-size: 0.9em; margin-top: 5px; }
        .entry-cmd { font-family: monospace; background: #111; padding: 2px 6px; color: var(--green); font-size: 0.85em; cursor: pointer; }
    </style>
</head>
<body>

    <div class="nav-header">
        ðŸ“Ÿ <a href="https://ci5.run">ci5.run</a>: curl ~ 
        ðŸ“¡ <a href="https://github.com/dreamswag/ci5">ci5.host</a>: core ~ 
        ðŸ§ª <a href="https://ci5.dev">ci5.dev</a>: cork ~ 
        ðŸ”¬ <a href="https://ci5.network">ci5.network</a>: cert
    </div>

    <div class="static-terminal">
        <div style="text-align:center; margin-bottom:30px;">
            <h1 style="font-size:1.5em; margin:0;">ci5.dev // CORK REGISTRY</h1>
            <div class="dim">The Unmanaged Operating Environment [UOE]</div>
        </div>

        <div id="registry-content">
            <div class="dim">Connecting to Cork Database...</div>
        </div>

        <div style="margin-top:50px; text-align:center; font-size:0.8em;" class="dim">
            147 741 // WIPE THE CORE // KEEP THE CORKS
        </div>
    </div>

<script>
    async function load() {
        try {
            const res = await fetch('corks.json');
            const db = await res.json();
            const el = document.getElementById('registry-content');
            el.innerHTML = '';

            const render = (title, items) => {
                let h = `<div class="section-header">${title}</div>`;
                for(const [k,v] of Object.entries(items)) {
                    h += `
                    <div class="entry">
                        <span class="entry-title">${k}</span> <span class="dim">[${v.ram || 'MEM?'}]</span>
                        <div class="entry-desc">${v.desc}</div>
                        <div style="margin-top:8px;">
                            <span class="entry-cmd" onclick="copy('${k}')">cork install ${k}</span>
                        </div>
                    </div>`;
                }
                return h;
            };

            el.innerHTML += render('OFFICIAL MODULES', db.official);
            el.innerHTML += render('COMMUNITY MODULES', db.community);

        } catch(e) {
            document.getElementById('registry-content').innerHTML = "<span class='red'>REGISTRY OFFLINE.</span>";
        }
    }
    function copy(t) { navigator.clipboard.writeText(`cork install ${t}`); alert('Copied'); }
    load();
</script>
</body>
</html>