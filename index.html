<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ci5.dev [REGISTRY]</title>
    <link rel="stylesheet" href="https://ci5.run/static/style.css"> 
    <style>
        /* Overrides for the Registry List View */
        .container { max-width: 900px; margin-top: 80px; width: 100%; padding-bottom: 50px; }
        .tui-header { border-bottom: 1px dashed var(--dim); padding-bottom: 10px; margin-bottom: 20px; }
        .tui-title { font-size: 1.5em; color: var(--purple); font-weight: bold; }
        .tui-meta { color: var(--dim); font-size: 0.9em; margin-top: 5px; }
        
        .tui-section { margin-top: 40px; }
        .tui-heading { color: var(--green); text-transform: uppercase; margin-bottom: 15px; font-weight: bold; }
        
        /* The List Items */
        .entry { 
            display: flex; flex-direction: column; 
            border-left: 1px solid var(--border); 
            padding-left: 15px; margin-bottom: 20px; 
            transition: border-color 0.2s;
        }
        .entry:hover { border-left-color: var(--purple); }
        
        .entry-top { display: flex; align-items: baseline; gap: 15px; }
        .entry-name { color: var(--text); font-weight: bold; font-size: 1.1em; }
        .entry-repo { color: var(--dim); font-size: 0.85em; }
        .entry-desc { color: #aaa; margin-top: 5px; font-size: 0.95em; }
        .entry-cmd { 
            margin-top: 8px; font-size: 0.85em; 
            color: var(--dim); font-family: monospace; 
            cursor: pointer; display: inline-block;
        }
        .entry-cmd:hover { color: var(--cyan); }

        .ascii-art { font-size: 0.7em; color: var(--dim); white-space: pre; margin-bottom: 20px; }
    </style>
</head>
<body>

    <div class="nav-header">
        ðŸ“Ÿ <a href="https://ci5.run">ci5.run</a>: curl ~ 
        ðŸ“¡ <a href="https://github.com/dreamswag/ci5">ci5.host</a>: core ~ 
        ðŸ§ª <a href="https://ci5.dev">ci5.dev</a>: cork ~ 
        ðŸ”¬ <a href="https://ci5.network">ci5.network</a>: cert
    </div>

    <div class="container">
        <div class="tui-header">
            <div class="tui-title">./REGISTRY</div>
            <div class="tui-meta">
                SOURCE: corks.json<br>
                STATUS: <span class="green">ONLINE</span><br>
                LEEWAY: 7GB AVAILABLE
            </div>
        </div>

        <div class="desc">
            The Unmanaged Operating Environment (UOE).<br>
            Community containers for the Ci5 Architecture.
        </div>

        <div id="content-area">
            <div class="dim">Loading manifest...</div>
        </div>

        <div class="footer">
            147 741 <span class="dim">//</span> WIPE THE CORE <span class="dim">//</span> KEEP THE CORKS
        </div>
    </div>

<script>
    // Simple fetcher that renders in TUI style
    async function load() {
        try {
            const res = await fetch('corks.json');
            const db = await res.json();
            const area = document.getElementById('content-area');
            area.innerHTML = '';

            // Renderer
            const renderSection = (title, items) => {
                let html = `<div class="tui-section"><div class="tui-heading">${title}</div>`;
                for (const [key, val] of Object.entries(items)) {
                    html += `
                        <div class="entry">
                            <div class="entry-top">
                                <span class="entry-name">${key}</span>
                                <span class="entry-repo">[${val.ram || 'MEM?'}]</span>
                            </div>
                            <div class="entry-desc">${val.desc}</div>
                            <div class="entry-cmd" onclick="copy('${key}')">$ cork install ${key}</div>
                        </div>`;
                }
                html += `</div>`;
                return html;
            };

            area.innerHTML += renderSection('Official Modules', db.official);
            area.innerHTML += renderSection('Community Modules', db.community);

        } catch (e) {
            document.getElementById('content-area').innerHTML = `<span class="red">Error: Registry Offline.</span>`;
        }
    }
    function copy(txt) { navigator.clipboard.writeText(`cork install ${txt}`); alert('Copied to clipboard'); }
    load();
</script>
</body>
</html>